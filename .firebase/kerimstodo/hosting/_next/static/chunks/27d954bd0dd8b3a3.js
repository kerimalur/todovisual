(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63172,e=>{"use strict";let t=(0,e.i(38330).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63172)},61958,e=>{"use strict";var t=e.i(58971);e.i(84149);var s=e.i(74820),r=e.i(24769),l=e.i(60250);let a=(0,e.i(38330).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var i=e.i(34105),n=e.i(352),d=e.i(63172),c=e.i(47127),x=e.i(26280),o=e.i(70701),m=e.i(42787);function h(){let{tasks:e,goals:h,projects:g,reactivateTask:u,deleteTask:b,deleteCompletedTasks:p}=(0,s.useDataStore)(),[y,j]=(0,m.useState)(!1),f=e.filter(e=>"completed"===e.status).sort((e,t)=>{let s=e.completedAt?new Date(e.completedAt).getTime():0;return(t.completedAt?new Date(t.completedAt).getTime():0)-s}),v=e=>e&&h.find(t=>t.id===e)?.title||null,N=f.reduce((e,t)=>{let s=t.completedAt?(0,r.format)(new Date(t.completedAt),"yyyy-MM-dd"):"unknown";return e[s]||(e[s]=[]),e[s].push(t),e},{});return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Archiv"}),(0,t.jsxs)("p",{className:"text-gray-500 mt-1",children:[f.length," erledigte Aufgaben"]})]}),f.length>0&&(0,t.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2.5 text-red-600 hover:bg-red-50 rounded-xl transition-colors text-sm font-medium",children:[(0,t.jsx)(i.Trash2,{size:16}),"Alle löschen"]})]})}),f.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"p-5 bg-white border border-gray-200 rounded-xl hover:shadow-md transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,t.jsx)(c.CheckCircle2,{size:16}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Gesamt"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),(0,t.jsxs)("div",{className:"p-5 bg-white border border-gray-200 rounded-xl hover:shadow-md transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,t.jsx)(x.Clock,{size:16}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Produktive Tage"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys(N).length})]}),(0,t.jsxs)("div",{className:"p-5 bg-white border border-gray-200 rounded-xl hover:shadow-md transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,t.jsx)(o.Target,{size:16}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Ø pro Tag"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Math.round(f.length/Math.max(Object.keys(N).length,1))})]})]}),y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn",children:(0,t.jsxs)("div",{className:"bg-white rounded-md p-5 w-full max-w-md mx-4 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-red-100 rounded-md",children:(0,t.jsx)(d.AlertCircle,{className:"text-red-600",size:20})}),(0,t.jsx)("h3",{className:"font-semibold text-[#37352f]",children:"Alle erledigten Aufgaben löschen?"})]}),(0,t.jsxs)("p",{className:"text-sm text-[#6b6b6b] mb-5",children:["Diese Aktion kann nicht rückgängig gemacht werden. Alle ",f.length," erledigten Aufgaben werden dauerhaft gelöscht."]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)("button",{onClick:()=>j(!1),className:"px-4 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:"Abbrechen"}),(0,t.jsx)("button",{onClick:()=>{p(),j(!1)},className:"px-4 py-2.5 bg-red-600 text-white rounded-xl text-sm font-medium hover:bg-red-700 transition-colors",children:"Alle löschen"})]})]})}),0===f.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center border border-dashed border-gray-200 rounded-xl bg-white",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:(0,t.jsx)(n.Archive,{size:28,className:"text-gray-400"})}),(0,t.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Keine erledigten Aufgaben"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Erledigte Aufgaben erscheinen hier."})]}),Object.entries(N).map(([e,s])=>(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h2",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:["unknown"===e?"Unbekanntes Datum":(0,r.format)(new Date(e),"EEEE, d. MMMM yyyy",{locale:l.de}),(0,t.jsxs)("span",{className:"ml-2 text-gray-400 font-normal",children:["(",s.length,")"]})]}),(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden divide-y divide-gray-100",children:s.map(e=>{var s;let n;return(0,t.jsxs)("div",{className:"group flex items-start gap-3 p-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(c.CheckCircle2,{size:18,className:"text-emerald-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 line-through",children:e.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-medium ${(s=e.priority,(n={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-blue-100 text-blue-700",low:"bg-gray-100 text-gray-600"})[s]||n.medium)}`,children:"urgent"===e.priority?"Dringend":"high"===e.priority?"Hoch":"medium"===e.priority?"Mittel":"Niedrig"}),e.completedAt&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[(0,r.format)(new Date(e.completedAt),"HH:mm",{locale:l.de})," Uhr"]}),v(e.goalId)&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["• ",v(e.goalId)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>u(e.id),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Reaktivieren",children:(0,t.jsx)(a,{size:14})}),(0,t.jsx)("button",{onClick:()=>b(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Endgültig löschen",children:(0,t.jsx)(i.Trash2,{size:14})})]})]},e.id)})})]},e))]})}e.s(["default",()=>h],61958)}]);